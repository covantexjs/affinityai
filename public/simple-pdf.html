<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Simple HTML Report Generator</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
      color: #333;
    }
    h1 {
      color: #6c5ce7;
      text-align: center;
      margin-bottom: 30px;
    }
    .form-group {
      margin-bottom: 20px;
    }
    label {
      display: block;
      margin-bottom: 5px;
      font-weight: bold;
    }
    input, select {
      width: 100%;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 4px;
      font-size: 16px;
    }
    button {
      background-color: #6c5ce7;
      color: white;
      border: none;
      padding: 12px 20px;
      border-radius: 4px;
      font-size: 16px;
      cursor: pointer;
      display: block;
      margin: 30px auto;
      width: 200px;
    }
    button:hover {
      background-color: #5b4bc4;
    }
    .card {
      background-color: #f8f9ff;
      border-radius: 8px;
      padding: 20px;
      margin-bottom: 20px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }
    .instructions {
      background-color: #f0e6ff;
      border-left: 4px solid #6c5ce7;
      padding: 15px;
      margin-bottom: 30px;
    }
    .note {
      background-color: #fff8e6;
      border-left: 4px solid #f6ad55;
      padding: 15px;
      margin-top: 30px;
    }
  </style>
</head>
<body>
  <h1>Simple HTML Report Generator</h1>
  
  <div class="instructions">
    <p>This page generates an HTML report that you can print to PDF using your browser's print function. Fill in the form below and click "Generate HTML Report" to create your report.</p>
  </div>
  
  <div class="card">
    <form id="reportForm">
      <div class="form-group">
        <label for="archetypeName">Archetype Name:</label>
        <input type="text" id="archetypeName" name="archetypeName" value="Romantic Idealist" required>
      </div>
      
      <div class="form-group">
        <label for="archetypeTagline">Archetype Tagline:</label>
        <input type="text" id="archetypeTagline" name="archetypeTagline" value="Finding meaning in every connection" required>
      </div>
      
      <div class="form-group">
        <label for="compatibleWith">Compatible With:</label>
        <input type="text" id="compatibleWith" name="compatibleWith" value="Steady Guardian & Vibrant Explorer" required>
      </div>
      
      <div class="form-group">
        <label for="customerName">Your Name (optional):</label>
        <input type="text" id="customerName" name="customerName" placeholder="Enter your name">
      </div>
      
      <button type="submit">Generate HTML Report</button>
    </form>
  </div>
  
  <div class="note">
    <p><strong>Note:</strong> This generates an HTML report that you can save as PDF using your browser's print function (Ctrl+P or Cmd+P). Select "Save as PDF" as the destination when printing.</p>
  </div>
  
  <script>
    document.getElementById('reportForm').addEventListener('submit', function(e) {
      e.preventDefault();
      
      const archetypeName = document.getElementById('archetypeName').value;
      const archetypeTagline = document.getElementById('archetypeTagline').value;
      const compatibleWith = document.getElementById('compatibleWith').value;
      const customerName = document.getElementById('customerName').value;
      
      // Build the URL with query parameters
      let url = `/.netlify/functions/generate-pdf-simple?name=${encodeURIComponent(archetypeName)}&tagline=${encodeURIComponent(archetypeTagline)}&compatible=${encodeURIComponent(compatibleWith)}`;
      
      if (customerName) {
        url += `&customer=${encodeURIComponent(customerName)}`;
      }
      
      // Open the URL in a new tab
      window.open(url, '_blank');
    });
  </script>
</body>
</html>

